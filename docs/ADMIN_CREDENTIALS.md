# ๐ ุฏููู ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุฅุฏูู

## โ๏ธ ุงููุดููุฉ ุงูุดุงุฆุนุฉ

ุนูุฏ ุชุบููุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูููุฉ ุงููุฑูุฑ ูููุณุคูู ูู `.env`ุ ูุฏ ูุง ุชูุนูุณ ุงูุชุบููุฑุงุช ุนูู ุงูููุฑ ูุฃู ุงููุธุงู ูุชุญูู ูู:

1. **ูุงุนุฏุฉ ุงูุจูุงูุงุช** - ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูู ุฌุฏูู `admins`
2. **ูุชุบูุฑุงุช ุงูุจูุฆุฉ** - ุงูุจูุงูุงุช ูู `.env`

ุฅุฐุง ุฃุถูุช ุจูุงูุงุช ุฌุฏูุฏุฉ ูู `.env` ููู ูู ุชูุดุฆูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุณูุญุฏุซ ุฎุทุฃ "Invalid credentials".

---

## โ ุงูุญู - ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุฅุฏุงุฑุฉ

### 1๏ธโฃ ุชุนุฏูู ุงูุจูุงูุงุช ูู `.env`

```bash
# ุงูููู: .env
ADMIN_EMAIL=admin@newdomain.com
ADMIN_PASSWORD=NewPassword@2025
```

### 2๏ธโฃ ุชุทุจูู ุงูุชุบููุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุงูุฃูุฑ ุงููุงุญุฏ ุงูุฐู ูุณุฌูู ุงูุฏุฎูู ูุจุงุดุฑุฉ
npm run admin:setup
```

**ูุง ููุนูู ูุฐุง ุงูุฃูุฑ:**
- โ ููุฑุฃ `ADMIN_EMAIL` ู `ADMIN_PASSWORD` ูู `.env`
- โ ูุชุญูู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ููุดุฆ ุญุณุงุจ ุฅุฏูู ุฌุฏูุฏ ุฃู ูุญุฏูุซ ุงูููุฌูุฏ
- โ ูุดููุฑ ูููุฉ ุงููุฑูุฑ ุจุขูุงู (bcrypt)
- โ ุนุฑุถ ุจูุงูุงุช ุงูุฏุฎูู ุงูููุงุฆูุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ: "ECONNREFUSED"

```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู
docker-compose ps db

# ุฅุนุงุฏุฉ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
docker-compose restart db

# ุงูุชุธุฑ 10 ุซูุงูู ุซู ุฌุฑุจ ูุฌุฏุฏูุง
npm run admin:setup
```

---

### โ ุฎุทุฃ: "DATABASE_URL not found"

```
โ DATABASE_URL not found in .env
```

**ุงูุญู:**
```bash
# ุงูุณุฎ ููู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถู
cp .env.example .env

# ุฃุถู ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู
nano .env

# ุซู ูุนูู ุงูุฃูุฑ
npm run admin:setup
```

---

### โ ุฎุทุฃ: "Admins table does not exist"

```
โ๏ธ Admins table does not exist yet.
Run migrations first: npm run db:push
```

**ุงูุญู:**
```bash
# ุดุบูู migrations ุฃููุงู
npm run db:push

# ุซู ุฃุถู ุจูุงูุงุช ุงูุฅุฏูู
npm run admin:setup
```

---

## ๐ ุฎุทูุงุช ุงูุชุซุจูุช ุงููุงููุฉ

### Local Development

```bash
# 1. ุชุซุจูุช ุงููุชุทูุจุงุช
npm install

# 2. ุฅูุณุฎ .env
cp .env.example .env

# 3. ุนุฏูู ุงูุจูุงูุงุช
nano .env

# 4. ุดุบูู migrations
npm run db:push

# 5. ุฃุถู ุจูุงูุงุช ุงูุฅุฏูู
npm run admin:setup

# 6. ุงุจุฏุฃ ุงูุชุทููุฑ
npm run dev
```

### Production (Docker)

```bash
# 1. ุงูุณุฎ .env
cp .env.example .env

# 2. ุนุฏูู .env ุจุงูุจูุงูุงุช ุงูุญููููุฉ
nano .env

# 3. ุดุบูู Docker
docker-compose up -d --build

# 4. ุงุฎุชุจุฑ ุงูุงุชุตุงู
docker-compose logs app | grep "โ\|โ"

# 5. ุฅุฐุง ูุดูุ ุดุบูู ุงูุฃูุฑ ูุฏูููุง
docker-compose exec app npm run admin:setup
```

---

## ๐ ุชุบููุฑ ุงูุจูุงูุงุช ูุงุญููุง

### ุงูุณููุงุฑูู: ุชุฑูุฏ ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงูุฅุฏูู

```bash
# 1. ุนุฏูู .env
ADMIN_EMAIL=admin@domain.com        # (ูุง ุชุบูุฑ)
ADMIN_PASSWORD=NewStrongPassword!   # (ุบููุฑ ุงููููุฉ)

# 2. ุทุจูู ุงูุชุญุฏูุซ
npm run admin:setup

# ุณูุธูุฑ:
# โ Admin account found: admin@domain.com
# Updating password...
# โ Password updated successfully
```

---

### ุงูุณููุงุฑูู: ุชุฑูุฏ ุชุบููุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุฅุฏูู

```bash
# โ ูุง ููููู ููุท ุชุบููุฑ ุงูุจุฑูุฏ ูู .env
# ูุฃู ูุฐุง ููุดุฆ ุญุณุงุจูุง ุฌุฏูุฏูุง

# ุงูุญู ุงูุตุญูุญ:
# 1. ุงุณุชุฎุฏู ููุญุฉ ุงูุฅุฏุงุฑุฉ โ ุงูุฅุนุฏุงุฏุงุช โ ุชุญุฏูุซ ุงูุจุฑูู
# ุฃู
# 2. ุนุฏูู ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
docker-compose exec db psql -U classify -d classify_db -c \
  "UPDATE admins SET email = 'newemail@domain.com' WHERE email = 'oldemail@domain.com';"
```

---

## ๐๏ธ ุฃูุงูุฑ ูููุฏุฉ

### ุนุฑุถ ุญุณุงุจ ุงูุฅุฏูู ุงูุญุงูู

```bash
docker-compose exec db psql -U classify -d classify_db -c \
  "SELECT id, email, role, created_at, updated_at FROM admins LIMIT 5;"
```

### ุญุฐู ุญุณุงุจ ุฅุฏูู (ููุงุฎุชุจุงุฑ ููุท)

```bash
docker-compose exec db psql -U classify -d classify_db -c \
  "DELETE FROM admins WHERE email = 'admin@example.com';"
```

### ุฅุนุงุฏุฉ ุชุนููู ูู ุญุณุงุจุงุช ุงูุฅุฏูู

```bash
# โ๏ธ ุชุญุฐูุฑ: ุณูุญุฐู ุฌููุน ุญุณุงุจุงุช ุงูุฅุฏูู!
docker-compose exec db psql -U classify -d classify_db -c "TRUNCATE admins;"

# ุซู ุฃุนุฏ ุงูุฅูุดุงุก:
npm run admin:setup
```

---

## ๐ ุฏูุฌ ูุน Docker Compose

ุนูุฏ ุงููุดุฑ ุนูู Hostingerุ ูุชู ุชุดุบูู `admin:setup` **ุชููุงุฆูุงู** ูู ุฎูุงู:

```yaml
# docker-compose.yml
services:
  app:
    # ...
    # ูุชู ุชุดุบูู ูุฐุง ุจุนุฏ migrations ุชููุงุฆูุงู
    # npm run admin:setup
```

---

## ๐ ูุตุงุฆุญ ุงูุฃูุงู

โ **ุงูุนู:**
- ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ (16+ ุญุฑูุ ุฃุญุฑู + ุฃุฑูุงู + ุฑููุฒ)
- ุบููุฑ ุจูุงูุงุช ุงูุฅุฏูู ุงูุงูุชุฑุงุถูุฉ ููุฑูุง
- ุงุญูุธ `.env` ูู ููุงู ุขูู
- ุงุณุชุฎุฏู VPN ูููุตูู ุฅูู `/admin`

โ **ูุง ุชูุนู:**
- ูุง ุชุถุน `.env` ูู Git
- ูุง ุชุดุงุฑู ุจูุงูุงุช ุงูุฅุฏูู ุนุจุฑ ุงูุจุฑูุฏ
- ูุง ุชุณุชุฎุฏู ููุณ ูููุฉ ุงููุฑูุฑ ูู ุนุฏุฉ ุฎุฏูุงุช
- ูุง ุชุชุฑู ุงูุฅุฏูู ุจูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

```bash
# ุงุฌูุน ูุนูููุงุช ุงูุชุดุฎูุต
docker-compose logs app | tail -50 > debug.log
docker-compose ps > status.log

# ุชุญูู ูู ุจูุงูุงุช .env
cat .env | grep ADMIN

# ุฌุฑุจ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ
docker-compose exec db psql -U classify -d classify_db -c "SELECT 1;"
```

ุซู ุดุงุฑู ุงูุณุฌูุงุช ูุน ุงููุฑูู.
