# Classify - Environment Template
# Copy to .env and replace placeholders with real secrets (never commit real secrets)

# Database
POSTGRES_USER=classify
POSTGRES_PASSWORD=replace_db_password
POSTGRES_DB=classify_db
DATABASE_URL=postgresql://classify:replace_db_password@127.0.0.1:5433/classify_db

# Security (generate strong 64-char hex)
JWT_SECRET=replace_jwt_secret
SESSION_SECRET=replace_session_secret
ADMIN_PANEL_PASSWORD=change_me_admin_panel

# Default Admin Account (created on first startup)
ADMIN_EMAIL=admin@classify.app
ADMIN_PASSWORD=change_me_admin_password

# ⚠️ IMPORTANT:
# After changing ADMIN_EMAIL or ADMIN_PASSWORD in this file:
# 1. Run: npm run admin:setup  (for local/docker development)
# 2. Or: docker-compose exec app npm run admin:setup  (for production)
# This syncs changes from .env to the database
# See: docs/ADMIN_CREDENTIALS.md for full guide

# Admin Security
ADMIN_CREATION_SECRET=replace_admin_creation_secret
ADMIN_BYPASS_EMAILS=

# Application
APP_URL=http://localhost:5000
NODE_ENV=production
CORS_ORIGIN=https://classi-fy.com
ALLOWED_ORIGINS=https://classi-fy.com

# Performance/Capacity (optional overrides)
# Balanced profile (recommended default)
NODE_CLUSTER_ENABLED=true
WEB_CONCURRENCY=4
DB_POOL_MAX=50
DB_POOL_MIN=5
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_POOL_CONNECT_TIMEOUT_MS=10000

# High-throughput profile (uncomment only after monitoring)
# NODE_CLUSTER_ENABLED=true
# WEB_CONCURRENCY=6
# DB_POOL_MAX=70
# DB_POOL_MIN=8
# DB_POOL_IDLE_TIMEOUT_MS=30000
# DB_POOL_CONNECT_TIMEOUT_MS=10000

# SMTP (email)
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=info@classi-fy.com
SMTP_PASSWORD=replace_smtp_password
SMTP_FROM="Classify <info@classi-fy.com>"

# RESEND (email provider)
RESEND_API_KEY=replace_resend_api_key

# SMS / Twilio (optional; enable only if used)
#SMS_PROVIDER=twilio
#TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#TWILIO_AUTH_TOKEN=replace_with_twilio_auth_token
#TWILIO_FROM_NUMBER=+10000000000

# Stripe (optional; required for paid store flows)
#STRIPE_SECRET_KEY=sk_live_replace_this
#STRIPE_PUBLISHABLE_KEY=pk_live_replace_this
#STRIPE_WEBHOOK_SECRET=whsec_replace_this

# Web Push (Task Notification Level 4)
# Generate using: npx web-push generate-vapid-keys
VAPID_SUBJECT=mailto:admin@classify.app
VAPID_PUBLIC_KEY=replace_vapid_public_key
VAPID_PRIVATE_KEY=replace_vapid_private_key

# Mobile Push (FCM legacy key for server dispatch)
FCM_SERVER_KEY=replace_fcm_server_key

# ========== MONITORING TOOLS CREDENTIALS ==========
# Portainer: Auto-setup on first login
# pgAdmin: $ADMIN_EMAIL / $ADMIN_PASSWORD
# Grafana: admin / $ADMIN_PASSWORD
# Redis Commander: No auth required
# Prometheus: No auth required
# Loki: No auth required
# Mailhog: No auth required
